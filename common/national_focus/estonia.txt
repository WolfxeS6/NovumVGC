focus_tree = {
	id = EST
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = EST
		}
	}
	default = no

	continuous_focus_position = { x = 900 y = 1600 }

	shared_focus = LLE_baltic_tiger

###################
##### POLITICS ####
##################

	focus = {
		id = EST_reapproach_russias
		icon = EST_bronze_soldier
		cost = 5
		x = 7
		y = 9

		completion_reward = {
			EST_bop_medium_increase_effect = yes
			#effect_tooltip = {
				EST_yana_toom = {
					add_advisor_role = {
						advisor = {
							slot = political_advisor
							cost = 150
							idea_token = EST_yana_toom
							traits = {
								russian_journalist
							}
						}
					}
				}
			#}
		}
	}

	focus = {
		id = EST_improve_nordic_relations
		icon = GFX_focus_SWE_the_nordic_decentralized_nordic_army_command
		cost = 5
		x = 13
		y = 8

		completion_reward = {
			every_country = {
				limit = { is_nordic = yes }
				add_opinion_modifier = {
						target = EST
						modifier = estonia_nordic_ambitions
				}
				news_event = estonia_news.1
			}
			add_ideas = est_nordic_ambitions
		}
	}

	focus = {
		id = EST_nordic_investment
		icon = GFX_focus_NORDIC_com_civilian
		cost = 5
		x = 3
		y = 1
		relative_position_id = EST_improve_nordic_relations

		prerequisite = {
			focus = EST_improve_nordic_relations
		}

		completion_reward = {
			custom_effect_tooltip = EST_nordic_investment_tt
			if = {
				limit = {
					FIN = {
						has_opinion = {
   							target = EST
    						value > 75
						}
					}
				}
				EST = {
					random_owned_controlled_state  = {
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			if = {
				limit = {
					DEN = {
						has_opinion = {
   							target = EST
    						value > 75
						}
					}
				}
				EST = {
					random_owned_controlled_state  = {
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			if = {
				limit = {
					SWE = {
						has_opinion = {
   							target = EST
    						value > 75
						}
					}
				}
				EST = {
					random_owned_controlled_state  = {
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			if = {
				limit = {
					NOR = {
						has_opinion = {
   							target = EST
    						value > 75
						}
					}
				}
				EST = {
					random_owned_controlled_state  = {
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
		}
	}

	focus = {
		id = EST_nordic_military_cooperation
		icon = GFX_focus_NORDIC_mon_army
		cost = 5
		x = 3
		y = 2
		relative_position_id = EST_improve_nordic_relations

		prerequisite = {
			focus = EST_nordic_investment
		}

		completion_reward = {
		}
	}

	focus = {
		id = EST_nordic_culture
		icon = GFX_focus_NORDIC_mon_form_alliance
		cost = 5
		x = 0
		y = 1
		relative_position_id = EST_improve_nordic_relations

		prerequisite = {
			focus = EST_improve_nordic_relations
		}

		mutually_exclusive = {
			focus = EST_baltic_culture
		}

		completion_reward = {
		}
	}

	focus = {
		id = EST_baltic_culture
		icon = GFX_focus_generic_baltic_entente
		cost = 5
		x = 10
		y = 9

		mutually_exclusive = {
			focus = EST_nordic_culture
		}

		completion_reward = {
		}
	}

	focus = {
		id = EST_join_nordic_council
		icon = GFX_focus_NORDIC_dem_form_alliance
		cost = 5
		x = 1
		y = 2
		relative_position_id = EST_improve_nordic_relations

		prerequisite = {
			focus = EST_nordic_culture
		}

		available = {
			NOR = {
				has_opinion = {
   					target = EST
    				value > 99
				}
			}
			SWE = {
				has_opinion = {
   					target = EST
    				value > 99
				}
			}
			FIN = {
				has_opinion = {
   					target = EST
    				value > 99
				}
			}
			DEN = {
				has_opinion = {
   					target = EST
    				value > 99
				}
			}
		}

		mutually_exclusive = {
			focus = EST_finish_defence_pact
		}

		completion_reward = {
			add_political_power = 50
			add_stability = 0.1
		}
	}

	focus = {
		id = EST_uus_pohjamaa
		icon = GFX_focus_generic_nordic_territory
		cost = 5
		x = 1
		y = 3
		relative_position_id = EST_improve_nordic_relations

		prerequisite = {
			focus = EST_join_nordic_council
		}

		completion_reward = {
		}
	}

	focus = {
		id = EST_finish_defence_pact
		icon = GFX_focus_invite_finland
		cost = 5
		x = -1
		y = 2
		relative_position_id = EST_improve_nordic_relations

		prerequisite = {
			focus = EST_nordic_culture
		}

		mutually_exclusive = {
			focus = EST_join_nordic_council
		}

		available = {
			FIN = {
				has_opinion = {
   					target = EST
    				value > 99
				}
			}
		}

		completion_reward = {
			add_war_support = 0.1
			custom_effect_tooltip = EST_if_FIN_accepts_tt
			effect_tooltip = {
				give_guarantee = FIN
				FIN = {
					give_guarantee = EST
				}
			}
			FIN = country_event = nvv_estonia.13
		}
	}

	focus = {
		id = EST_blockade_plan
		icon = GFX_focus_FIN_coastal_defense
		cost = 5
		x = -1
		y = 3
		relative_position_id = EST_improve_nordic_relations

		prerequisite = {
			focus = EST_finish_defence_pact
		}

		mutually_exclusive = {
			focus = EST_join_nordic_council
		}

		available = {
			FIN = {
				has_opinion = {
   					target = EST
    				value > 99
				}
			}
		}

		completion_reward = {
			add_political_power = 50
			add_stability = 0.1
		}
	}

	focus = {
		id = EST_eesti_rahvusringhaaling
		icon = GFX_goal_generic_propaganda
		cost = 5
		x = 0
		y = 8

		completion_reward = {
			add_stability = 0.05
			effect_tooltip = {
				add_advisor_role = {
					character = EST_margus_allikmaa
					advisor = {
						slot = political_advisor
						cost = 150
						idea_token = EST_margus_allikmaa
						traits = {
							estonia_minister_of_culture
						}
					}
				}
			}
			unlock_decision_tooltip = EST_bop_establish_etvplus
			unlock_decision_tooltip = EST_bop_establish_etv2
		}
	}

	focus = {
		id = EST_remove_bronze_soldier
		icon = EST_bronze_soldier
		cost = 5
		x = 2
		y = 8

		completion_reward = {
			add_stability = -0.05
			EST_bop_medium_decrease_effect = yes
			effect_tooltip = {
				SOV = {
					add_opinion_modifier = {
						target = EST
						modifier = est_dishonored_memorials
					}
				}
			}
			hidden_effect = {
				SOV = { country_event = estonia.2 }
			}
		}
	}

	focus = {
		id = EST_counterintelligence_measures
		icon = GFX_goal_generic_intelligence_exchange
		cost = 5
		x = 2
		y = 9

		completion_reward = {
			IF = {
				limit = {
					has_dlc = "La Resistance"
					has_intelligence_agency = no
				}
				create_intelligence_agency = { 
					name = "Kaitsepolitseiamet"
					icon = GFX_intelligence_agency_logo_est
				}
				upgrade_intelligence_agency = upgrade_passive_defense 
			}
			else_if = {
				limit = {
					has_dlc = "La Resistance"
					has_intelligence_agency = yes
				}
				upgrade_intelligence_agency = upgrade_passive_defense
				gain_random_agency_upgrade = yes
			}
			add_advisor_role = {
				character = EST_aleksander_toots
				advisor = {
					slot = political_advisor
					cost = 50
					idea_token = EST_aleksander_toots
					traits = {
						head_of_intelligence
					}
				}
			}
			EST_bop_very_low_decrease_effect = yes
		}
	}

#################
#### ECONOMY ####
#################

	focus = {
		id = EST_regulate_public_salaries
		icon = GFX_focus_DEN_limited_regulations
		cost = 5
		x = 20
		y = 0

		available = {
		}

		completion_reward = {
		}
	}

	focus = {
		id = EST_pension_reforms
		icon = GFX_focus_SWI_issue_war_bonds
		cost = 5
		x = 0
		y = 1
		relative_position_id = EST_regulate_public_salaries

		prerequisite = {
			focus = EST_regulate_public_salaries
		}

		available = {
		}

		completion_reward = {
		}
	}

	focus = {
		id = EST_push_digital_transformation
		icon = GFX_goal_generic_radar
		cost = 5
		x = 0
		y = 3
		relative_position_id = EST_regulate_public_salaries

		prerequisite = {
			focus = EST_pension_reforms
		}

		prerequisite = {
			focus = EST_reform_custom_duties
		}

		available = {
		}

		completion_reward = {
		}
	}

	focus = {
		id = EST_form_itl
		icon = GFX_focus_eng_concessions_to_the_trade_unions
		cost = 5
		x = -1
		y = 4
		relative_position_id = EST_regulate_public_salaries

		prerequisite = {
			focus = EST_push_digital_transformation
		}

		available = {
		}

		completion_reward = {
		}
	}

	focus = {
		id = EST_eitc
		icon = GFX_focus_research
		cost = 5
		x = 1
		y = 4
		relative_position_id = EST_regulate_public_salaries

		prerequisite = {
			focus = EST_push_digital_transformation
		}

		prerequisite = {
			focus = EST_uelemiste_city
		}

		available = {
		}

		completion_reward = {
		}
	}

	focus = {
		id = EST_tallinn_university
		icon = GFX_focus_research2
		cost = 5
		x = 0
		y = 5
		relative_position_id = EST_regulate_public_salaries

		prerequisite = {
			focus = EST_form_itl
		}

		prerequisite = {
			focus = EST_eitc
		}

		available = {
			date > 2005.1.1
		}

		completion_reward = {
		}
	}

	focus = {
		id = EST_tehnopol
		icon = GFX_focus_jap_zaibatsu
		cost = 5
		x = -1
		y = 4
		relative_position_id = EST_encourage_foreign_investment

		prerequisite = {
			focus = EST_uelemiste_city
		}

		available = {
		}

		completion_reward = {
		}
	}

	focus = {
		id = EST_tartu_science_park
		icon = GFX_goal_generic_construct_civ_factory
		cost = 5
		x = 3
		y = 4
		relative_position_id = EST_encourage_foreign_investment

		prerequisite = {
			focus = EST_develop_saaremaa
		}

		available = {
		}

		completion_reward = {
		}
	}

	focus = {
		id = EST_infrastructure_projects
		icon = GFX_focus_generic_road_investment
		cost = 5
		x = 1
		y = 5
		relative_position_id = EST_encourage_foreign_investment

		prerequisite = {
			focus = EST_tehnopol
			focus = EST_tartu_science_park
		}

		prerequisite = {
			focus = EST_narva_wind_farm
		}

		available = {
		}

		completion_reward = {
		}
	}

	focus = {
		id = EST_electrify_railway
		icon = GFX_focus_generic_railroad
		cost = 5
		x = 1
		y = 6
		relative_position_id = EST_encourage_foreign_investment

		prerequisite = {
			focus = EST_infrastructure_projects
		}

		available = {
		}

		completion_reward = {
		}
	}

	focus = {
		id = EST_encourage_foreign_investment
		icon = GFX_focus_generic_american_investments
		cost = 5
		x = 25
		y = 0

		available = {
		}

		completion_reward = {
			add_offsite_building = { type = industrial_complex level = 1 }
		}
	}

	focus = {
		id = EST_promote_free_trade
		icon = GFX_goal_generic_positive_trade_relations
		cost = 5
		x = 22
		y = 0

		available = {
		}

		completion_reward = {
			add_ideas = free_trade
		}
	}

	focus = {
		id = EST_abolish_corporate_income_tax
		icon = GFX_focus_BRA_pro_business_taxes
		cost = 5
		x = -2
		y = 1
		relative_position_id = EST_encourage_foreign_investment

		prerequisite = {
			focus = EST_encourage_foreign_investment
		}

		available = {
		}

		completion_reward = {
			if = {
				limit = { has_idea = estonia_economic_crisis }
				swap_ideas = {
					remove_idea = estonia_economic_crisis
					add_idea = estonia_economic_crisis_1
				}
			} else = {
				swap_ideas = {
					remove_idea = estonia_economic_crisis_1
					add_idea = estonia_economic_crisis_2
				}
			}
		}
	}

	focus = {
		id = EST_reform_custom_duties
		icon = GFX_focus_generic_agricultural_subsidies
		cost = 5
		x = -3
		y = 2
		relative_position_id = EST_encourage_foreign_investment

		prerequisite = {
			focus = EST_abolish_corporate_income_tax
		}

		available = {
		}

		completion_reward = {
			if = {
				limit = { has_idea = estonia_economic_crisis }
				swap_ideas = {
					remove_idea = estonia_economic_crisis
					add_idea = estonia_economic_crisis_1
				}
			} else = {
				swap_ideas = {
					remove_idea = estonia_economic_crisis_1
					add_idea = estonia_economic_crisis_2
				}
			}
		}
	}

	focus = {
		id = EST_dissolve_eea
		icon = GFX_focus_generic_modernize_industry
		cost = 5
		x = 1
		y = 1
		relative_position_id = EST_encourage_foreign_investment

		prerequisite = {
			focus = EST_encourage_foreign_investment
			focus = EST_promote_free_trade
		}

		available = {
			has_country_flag = EST_tallinna_vesi_privatized
			has_country_flag = EST_eesti_raudtee_privatized
			NOT = {
				OR = {
					has_idea = estonia_economic_crisis
					has_idea = estonia_economic_crisis_1
					has_idea = estonia_economic_crisis_2
				}
			}
		}

		completion_reward = {
			remove_ideas = estonia_economic_crisis_2
			remove_ideas = EST_eea_idea
			custom_effect_tooltip = est_privatisation_tt
		}
	}

	focus = {
		id = EST_modernize_narva_power_plant
		icon = GFX_focus_generic_energy
		cost = 10
		x = 4
		y = 1
		relative_position_id = EST_dissolve_eea

		prerequisite = {
			focus = EST_dissolve_eea
		}

		available = {
		}

		completion_reward = {
			840 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			add_resource = {
				type = oil
				amount = 1
				state = 840
			}
		}
	}

	focus = {
		id = EST_narva_wind_farm
		icon = GFX_focus_generic_hydroelectric_energy
		cost = 10
		x = 4
		y = 3
		relative_position_id = EST_dissolve_eea

		prerequisite = {
			focus = EST_modernize_narva_power_plant
		}

		available = {
		}

		completion_reward = {
		}
	}

	focus = {
		id = EST_develop_tallinn
		icon = GFX_focus_EST_tallinn
		cost = 5
		x = 0
		y = 2
		relative_position_id = EST_encourage_foreign_investment

		prerequisite = {
			focus = EST_dissolve_eea
		}

		available = {
		}

		mutually_exclusive = { focus = EST_develop_countryside }

		completion_reward = {
			13 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			EST_bop_medium_decrease_effect = yes
		}
	}
	focus = {
		id = EST_modernize_port
		icon = GFX_focus_POL_develop_polish_shipbuilding
		cost = 5
		x = 0
		y = 1
		relative_position_id = EST_develop_tallinn

		available = {
		}

		prerequisite = {
			focus = EST_develop_tallinn
		}

		completion_reward = {
			13 = {
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					province = 3152
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
			id = EST_uelemiste_city
			icon = GFX_goal_generic_construct_civ_factory
			cost = 5
			x = -2
			y = 1
			relative_position_id = EST_develop_tallinn

			available = {
			}

			prerequisite = {
				focus = EST_develop_tallinn
			}

			completion_reward = {
				13 = {
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 2
				}
				add_tech_bonus = {
					bonus = 0.5
					uses = 1
					category = industry
				}
			}
		}
	focus = {
		id = EST_develop_countryside
		icon = GFX_focus_generic_farmland
		cost = 5
		x = 2
		y = 2
		relative_position_id = EST_encourage_foreign_investment

		prerequisite = {
			focus = EST_dissolve_eea
		}

		available = {
		}

		mutually_exclusive = { focus = EST_develop_tallinn }

		completion_reward = {
			840 = {
				add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
			add_extra_state_shared_building_slots = 1
		}
			191 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		EST_bop_medium_increase_effect = yes
		}
	}
		
	focus = {
			id = EST_develop_saaremaa
			icon = EST_develop_saaremaa
			cost = 5
			x = 0
			y = 1
			relative_position_id = EST_develop_countryside

			available = {
				has_war = no
			}

			prerequisite = { focus = EST_develop_countryside }

			completion_reward = {
				if = {
					limit = { NOT = { has_country_flag = EST_second_develop_saameraa } }
					13 = {
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				add_offsite_building = { type = industrial_complex level = 2 }
				custom_effect_tooltip = EST_saameraa_tt
				set_country_flag = EST_tourism_improved
			}
		}

	focus = {
			id = EST_move_capital
			icon = GFX_goal_generic_construct_civilian
			cost = 5
			x = 2
			y = 1
			relative_position_id = EST_develop_countryside

			available = {
			}

			prerequisite = { focus = EST_develop_countryside }

			completion_reward = {
				add_stability = -0.05
				13 = {
					remove_building = {
						type = industrial_complex
						level = 1
					}
					add_manpower = -15000
				}
				191 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					add_manpower = 15000
				}
				set_capital = {state = 191 }
			}
		}

##############
#### ARMY ####
##############

	focus = {
		id = EST_integrate_naiskodukaitse
		icon = EST_naiskodukaitse
		cost = 5
		x = 5
		y = 10

		completion_reward = {
			add_stability = 0.05
			add_war_support = 0.05
			swap_ideas = {
				remove_idea = EST_kaitseliit
				add_idea = EST_kaitseliit_1
			}
			add_corps_commander_role = {
				Character = EST_Airi_Tooming
				skill = 1
				attack_skill = 1
				defense_skill = 1
				planning_skill = 1
				logistics_skill = 1
			}
			add_corps_commander_role = {
				Character = EST_dagmar_mattiisen
				skill = 1
				attack_skill = 1
				defense_skill = 1
				planning_skill = 1
				logistics_skill = 1
			}
		}
	}
	focus = {
		id = EST_support_command
		icon = GFX_focus_generic_truck
		cost = 5
		x = 1
		y = 9

		completion_reward = {
			add_equipment_to_stockpile = {
				type = motorized_equipment
				amount = 250
				variant_name = "MAN KAT1"
			}
			add_tech_bonus = {
				name = EST_motorized_logistics
				bonus = 0.5
				uses = 2
				category = hospital_tech
				category = logistics_tech
			}
		}
	}
	focus = {
		id = EST_open_Kkskpoluegoon
		icon = estonia_training
		cost = 5
		x = 5
		y = 9

		completion_reward = {
			army_experience = 15
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			13 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = EST_Kevadtorm
		icon = GFX_focus_NORDIC_com_selector_army
		cost = 10
		x = 4
		y = 8

		prerequisite = { focus = EST_open_Kkskpoluegoon }

		completion_reward = {
			add_political_power = 50
			add_war_support = 0.05
			army_experience = 5
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			random_unit_leader = { gain_xp = 25 }
			random_unit_leader = { gain_xp = 25 }
		}
	}
	focus = {
		id = EST_defense_investment_center
		icon = GFX_focus_generic_combined_arms
		cost = 5
		x = 3
		y = 10

		completion_reward = {
			every_military_industrial_organization = {
				add_mio_funds = 500
			}
		}
	}
	focus = {
		id = EST_rebuild_air_force
		icon = GFX_focus_est_air_force
		cost = 10
		x = 3
		y = 0

		mutually_exclusive = { focus = EST_expand_naval_academy }

		completion_reward = {
			air_experience = 10
			effect_tooltip = {
				add_advisor_role = {
					character = EST_Rauno_Sirk
					advisor = {
						slot = air_chief
						cost = 150
						idea_token = EST_Rauno_Sirk
						traits = {
							air_chief_safety_2
						}
					}
				}
			}
			add_timed_idea = {
				idea = estonia_air_force_reorganisation
				days = 180
			}
		}
	}
	focus = {
		id = EST_air_surveillance_wing
		icon = GFX_goal_generic_air_doctrine
		cost = 5
		x = -1
		y = 1
		relative_position_id = EST_rebuild_air_force

		prerequisite = { focus = EST_rebuild_air_force }

		available = {
			NOT = { has_idea = estonia_air_force_reorganisation }
		}

		completion_reward = {
			13 = { 
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = radar_tech
			}
		}
	}
	focus = {
		id = EST_expand_baltnet
		icon = modern_radar
		cost = 5
		x = -1
		y = 2
		relative_position_id = EST_rebuild_air_force

		prerequisite = { focus = EST_air_surveillance_wing }

		completion_reward = {
			every_core_state = { 
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
			add_tech_bonus = {
				bonus = 0.25
				uses = 1
				category = radar_tech
			}
		}
	}
	focus = {
		id = EST_modernize_soviet_airfields
		icon = GFX_goal_generic_air_production
		cost = 5
		x = -2
		y = 3
		relative_position_id = EST_rebuild_air_force

		mutually_exclusive = { focus =  EST_develop_aemari_air_base }

		prerequisite = { focus = EST_expand_baltnet }

		completion_reward = {
			840 = { 
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			191 = { 
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = EST_purchase_foreign_aircraft
		icon = GFX_focus_SMB_purchase_aircraft
		cost = 5
		x = -3
		y = 4
		relative_position_id = EST_rebuild_air_force

		mutually_exclusive = { focus =  EST_establish_aviotehas }

		prerequisite = { focus = EST_modernize_soviet_airfields focus = EST_develop_aemari_air_base }

		completion_reward = {
			custom_effect_tooltip = est_fighter_purchase_tt
			country_event = nvv_estonia.10
		}
	}
	focus = {
		id = EST_establish_aviotehas
		icon = GFX_focus_generic_aircraft_production
		cost = 5
		x = -1
		y = 4
		relative_position_id = EST_rebuild_air_force

		mutually_exclusive = { focus =  EST_purchase_foreign_aircraft }

		prerequisite = { focus = EST_modernize_soviet_airfields focus = EST_develop_aemari_air_base }

		completion_reward = {
			custom_effect_tooltip = est_unlock_mio_tt
			show_mio_tooltip = EST_aviotehas_organization
			random_owned_controlled_state = {
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 2
				category = light_fighter
			}
		}
	}
	focus = {
		id = EST_create_aviation_regiment
		icon = GFX_goal_generic_air_fighter2
		cost = 5
		x = -2
		y = 5
		relative_position_id = EST_rebuild_air_force

		prerequisite = { focus = EST_establish_aviotehas focus = EST_purchase_foreign_aircraft }

		completion_reward = {
			air_experience = 15
		}
	}
	focus = {
		id = EST_expand_aviation_academy
		icon = GFX_goal_generic_air_doctrine
		cost = 5
		x = 2
		y = 2
		relative_position_id = EST_rebuild_air_force

		mutually_exclusive = { focus = EST_expand_naval_academy }

		prerequisite = {
			focus = EST_rebuild_air_force
		}

		completion_reward = {
			air_experience = 10
			add_doctrine_cost_reduction = {
				cost_reduction = 0.25
				uses = 2
				category = air_doctrine
			}
			effect_tooltip = {
				add_advisor_role = {
					character = EST_Jaak_Tarien
					advisor = {
						slot = air_chief
						cost = 150
						idea_token = EST_Jaak_Tarien
						traits = {
							air_chief_reform_2
						}
					}
				}
			}
		}
	}
	focus = {
		id = EST_expand_naval_academy
		icon = GFX_focus_generic_naval_discipline
		cost = 5
		x = 2
		y = 0
		relative_position_id = EST_expand_aviation_academy

		prerequisite = {
			focus = EST_reform_navy
		}

		mutually_exclusive = { focus = EST_expand_aviation_academy }

		completion_reward = {
			navy_experience = 10
			effect_tooltip = {
				add_advisor_role = {
					character = EST_tarmo_kouts
					advisor = {
						slot = navy_chief
						cost = 150
						idea_token = EST_tarmo_kouts
						traits = {
							navy_chief_reform_1
						}
					}
				}
			}
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
			### possible: add leader skill
		}
	}
	focus = {
		id = EST_edia
		icon = GFX_goal_generic_defence
		cost = 5
		x = 1
		y = 1
		relative_position_id = EST_expand_aviation_academy

		prerequisite = { focus = EST_expand_aviation_academy focus = EST_expand_naval_academy }

		available = {
			threat > 0.15
		}

		completion_reward = {
			add_mio_policy_cost = {
				policy = my_policy
				value = -25
			}
		}
	}
	focus = {
		id = EST_refurbish_paldiski
		icon = GFX_goal_generic_navy_cruiser
		cost = 10
		x = 2
		y = 1
		relative_position_id = EST_expand_naval_academy

		prerequisite = { focus = EST_expand_naval_academy }

		completion_reward = {
			13 = {
				add_building_construction = {
					type = naval_base
					province = 3152
					level = 3
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = EST_develop_aemari_air_base
		icon = GFX_focus_generic_air_bases
		cost = 10
		x = -2
		y = 1
		relative_position_id = EST_expand_aviation_academy

		prerequisite = { focus = EST_expand_aviation_academy }
		prerequisite = { focus = EST_rebuild_air_force }

		completion_reward = {
			13 = {
					add_building_construction = {
						type = air_base
						level = 3
						instant_build = yes
					}
					add_building_construction = {
						type = fuel_silo
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
				}
		}
	}
	focus = {
		id = EST_air_sovereignity_operations_centre
		icon = GFX_focus_generic_air_bases
		cost = 10
		x = 0
		y = 5
		relative_position_id = EST_rebuild_air_force

		prerequisite = { focus = EST_develop_aemari_air_base }

		completion_reward = {
		}
	}
	focus = {
		id = EST_invist_blrt
		icon = GFX_goal_generic_construct_naval_dockyard
		cost = 5
		x = 1
		y = 2
		relative_position_id = EST_expand_naval_academy

		prerequisite = { focus = EST_expand_naval_academy }
		prerequisite = { focus = EST_edia }

		completion_reward = {
			if = {
				limit = { has_country_flag = noblessner_gone_flg }
				13 = {
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 2
				}
			}
			else = {
				13 = {
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					
				}
			}
			mio:EST_blrt_organization = {
				add_mio_funds = 1500
			}
			
		}
	}
	focus = {
		id = EST_threod_systems
		icon = drone
		cost = 5
		x = -1
		y = 2
		relative_position_id = EST_expand_aviation_academy

		prerequisite = { focus = EST_expand_aviation_academy }
		prerequisite = { focus = EST_edia }

		completion_reward = {
			custom_effect_tooltip = est_unlock_mio_tt
			show_mio_tooltip = EST_threod_systems_organization
			13 = {
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = tactical_bomber
			}
		}
	}
	focus = {
		id = EST_encourage_small_arms
		icon = GFX_focus_generic_reorient_production
		cost = 5
		x = 1
		y = 2
		relative_position_id = EST_expand_aviation_academy

		prerequisite = { focus = EST_edia }

		completion_reward = {
			custom_effect_tooltip = est_unlock_mio_tt
			show_mio_tooltip = EST_nord_arms_organization
			mio:EST_nord_arms_organization = {
			add_mio_funds = 1500
			}
			13 = {
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		}
	}

	focus = {
		id = EST_defence_industrial_park
		icon = GFX_goal_generic_construct_mil_factory
		cost = 10
		x = 1
		y = 3
		relative_position_id = EST_expand_aviation_academy

		prerequisite = { focus = EST_encourage_small_arms }

		available = {
			threat > 0.15
		}

		completion_reward = {
			13 = {
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = infantry_weapons
			}
		}
	}

	focus = {
		id = EST_reform_navy
		icon = GFX_goal_generic_navy_doctrines_tactics
		cost = 10
		x = 8
		y = 0
		relative_position_id = EST_rebuild_air_force

		completion_reward = {
			navy_experience = 10
			add_doctrine_cost_reduction = {
				cost_reduction = 0.25
				uses = 2
				category = naval_doctrine
			}
			country_event = nvv_estonia.8
		}
	}

	focus = {
		id = EST_cnet
		icon = GFX_goal_generic_navy_doctrines_tactics
		cost = 10
		x = -2
		y = 1
		relative_position_id = EST_reform_navy

		prerequisite = {
			focus = EST_reform_navy
		}

		completion_reward = {
			navy_experience = 15
			add_doctrine_cost_reduction = {
				cost_reduction = 0.25
				uses = 1
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = EST_submarine_fleet
		icon = GFX_goal_generic_navy_submarine
		cost = 10
		x = 0
		y = 1
		relative_position_id = EST_reform_navy

		prerequisite = {
			focus = EST_reform_navy
		}

		available = {
			NOT = { has_idea = estonia_unfounded_navy }
		}

		mutually_exclusive = {
			focus = EST_mineships_division
		}

		completion_reward = {
			add_tech_bonus = {
				bonus = 1
				uses = 1
				category = ss_tech
			}
			custom_effect_tooltip = est_purchase_submarines_tt
		}
	}

	focus = {
		id = EST_hara_base
		icon = GFX_goal_generic_construct_naval_dockyard
		cost = 10
		x = -1
		y = 2
		relative_position_id = EST_reform_navy

		prerequisite = {
			focus = EST_submarine_fleet
		}

		completion_reward = {
			13 = {
				add_building_construction = {
					type = naval_facility
					level = 1
					instant_build = yes
					province = 11426 # Hara
				}
			}
		}
	}

	focus = {
		id = EST_mineships_division
		icon = GFX_focus_est_minesweeper_division
		cost = 10
		x = 2
		y = 1
		relative_position_id = EST_reform_navy

		prerequisite = {
			focus = EST_reform_navy
		}

		available = {
			NOT = { has_idea = estonia_unfounded_navy }
		}

		mutually_exclusive = {
			focus = EST_submarine_fleet
		}

		completion_reward = {
			custom_effect_tooltip = est_purchase_minesweeper_tt
		}
	}

	focus = {
		id = EST_miinisadama_base
		icon = GFX_goal_generic_navy_cruiser
		cost = 10
		x = 3
		y = 2
		relative_position_id = EST_reform_navy

		prerequisite = {
			focus = EST_mineships_division
		}

		completion_reward = {
		}
	}

	focus = {
		id = EST_modernize_fleet
		icon = GFX_focus_generic_navy_battleship2
		cost = 10
		x = 1
		y = 2
		relative_position_id = EST_reform_navy

		prerequisite = {
			focus = EST_mineships_division
			focus = EST_submarine_fleet
		}

		completion_reward = {
		}
	}

	focus = {
		id = EST_mine_warfare
		icon = GFX_focus_generic_mine_warfare
		cost = 10
		x = 0
		y = 3
		relative_position_id = EST_reform_navy

		prerequisite = {
			focus = EST_modernize_fleet
		}

		completion_reward = {
		}
	}

	focus = {
		id = EST_anti_ship_missiles
		icon = GFX_focus_rocketry
		cost = 10
		x = 2
		y = 3
		relative_position_id = EST_reform_navy

		prerequisite = {
			focus = EST_modernize_fleet
		}

		completion_reward = {
		}
	}

	focus = {
		id = EST_coastal_defence_network
		icon = GFX_focus_FIN_coastal_defense
		cost = 10
		x = 1
		y = 4
		relative_position_id = EST_reform_navy

		prerequisite = {
			focus = EST_mine_warfare
		}
		prerequisite = {
			focus = EST_anti_ship_missiles
		}

		completion_reward = {
			add_war_support = 0.05
			every_owned_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 3
					instant_build = yes
					province = {
						all_coastal = yes
					}
				}
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = EST_meredessantpataljon
		icon = GFX_focus_est_marine_battalion
		cost = 10
		x = 1
		y = 5
		relative_position_id = EST_reform_navy

		prerequisite = {
			focus = EST_coastal_defence_network
		}

		completion_reward = {
			add_tech_bonus = {
				bonus = 1
				uses = 1
				category = marine_tech
			}
			division_template = { 
						name = "Meredessantpataljon"
						#division_names_group = SOV_INF_01
						is_locked = no
						regiments = { 
							marine = { x = 0 y = 0 }
						}
						support = {
						}
					}
					13 = {
						create_unit = {
							division = "name = \"1. Meredessantpataljon\" division_template = \"Meredessantpataljon\" start_experience_factor = 0.6" 
							owner = EST
						}
					}
		}
	}

##############
#### SETO ####
##############

	focus = {
		id = EST_revive_seto_culture
		icon = GFX_focus_CHL_mapuche_reconcilliation_campaigns_export
		cost = 5
		x = 0
		y = 10
		relative_position_id = EST_move_capital

		#prerequisite = { focus = EST_move_capital }

		allow_branch = {
			IF = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				has_completed_focus = EST_move_capital
			}
		}

		completion_reward = {
			add_popularity = {
				ideology = islamist
				popularity = 0.02
			}
			add_advisor_role = {
				character = EST_rhine_jaervelill
				advisor = {
					slot = political_advisor
					cost = 50
					idea_token = EST_rhine_jaervelill
					traits = {
						EST_seto_promoter
					}
				}
			}
			add_ideas = estonia_seto_propaganda
		}
	}

	focus = {
		id = EST_establish_seto_congress
		icon = GFX_focus_ETH_re-convene_the_parliament
		cost = 5
		x = -1
		y = 1
		relative_position_id = EST_revive_seto_culture

		prerequisite = { focus = EST_revive_seto_culture }

		available = { islamist > 0.15 }

		completion_reward = {
		}
	}

	focus = {
		id = EST_elderly_council
		icon = GFX_focus_BUL_form_a_regency_council
		cost = 5
		x = -1
		y = 2
		relative_position_id = EST_revive_seto_culture

		prerequisite = { focus = EST_establish_seto_congress }

		available = { islamist > 0.3 }

		completion_reward = {
		}
	}

	focus = {
		id = EST_foster_seto_leelo
		icon = GFX_focus_ARG_establish_the_free_association
		cost = 5
		x = 1
		y = 1
		relative_position_id = EST_revive_seto_culture

		prerequisite = { focus = EST_revive_seto_culture }

		completion_reward = {
			add_popularity = {
				ideology = islamist
				popularity = 0.05
			}
			swap_ideas = {
				remove_idea = estonia_seto_propaganda
				add_idea = estonia_seto_propaganda_1
			}
		}
	}

	focus = {
		id = EST_boost_setomaa
		icon = GFX_goal_generic_propaganda
		cost = 5
		x = 1
		y = 2
		relative_position_id = EST_revive_seto_culture

		prerequisite = { focus = EST_foster_seto_leelo }

		completion_reward = {
			add_popularity = {
				ideology = islamist
				popularity = 0.1
			}
			swap_ideas = {
				remove_idea = estonia_seto_propaganda_1
				add_idea = estonia_seto_propaganda_2
			}
		}
	}

	focus = {
		id = EST_elect_ulebtsootska
		icon = GFX_focus_hun_elect_a_king
		cost = 5
		x = 0
		y = 3
		relative_position_id = EST_revive_seto_culture

		prerequisite = { focus = EST_boost_setomaa }
		prerequisite = { focus = EST_elderly_council }

		completion_reward = {
			add_stability = 0.05
			custom_effect_tooltip = EST_elect_king_tt
			hidden_effect = {
				country_event = nvv_estonia.5
			}
			remove_ideas = estonia_seto_propaganda_2
		}
	}

	focus = {
		id = EST_proclaim_setomaa_kingdom
		icon = GFX_focus_BRA_constitutional_monarchy
		cost = 10
		x = 0
		y = 4
		relative_position_id = EST_revive_seto_culture

		prerequisite = { focus = EST_elect_ulebtsootska }

		available = { islamist > 0.5 }

		completion_reward = {
			add_stability = 0.1
			set_cosmetic_tag = EST_setomaa
			set_politics = {
				ruling_party = islamist
				elections_allowed = no
				last_election = "2000.01.01"
				election_frequency = 48
				long_name = EST_seto_long
				name = EST_seto_short
			}
		}
	}

	focus = {
		id = EST_retake_pskovo_pechersky_monastery
		icon = GFX_focus_SOV_third_rome
		cost = 5
		x = 0
		y = 5
		relative_position_id = EST_revive_seto_culture

		prerequisite = { focus = EST_proclaim_setomaa_kingdom }

		completion_reward = {
			add_war_support = 0.1
			add_manpower = 3000
			add_state_claim = 209
			add_corps_commander_role = {
				Character = EST_Sulo_Nurmeots
				skill = 1
				attack_skill = 1
				defense_skill = 1
				planning_skill = 1
				logistics_skill = 1
			}
		}
	}

	focus = {
		id = EST_king_peko
		icon = GFX_focus_ETH_the-italo_ethiopian_empire
		cost = 5
		x = 0
		y = 6
		relative_position_id = EST_revive_seto_culture

		prerequisite = { focus = EST_retake_pskovo_pechersky_monastery }

		available = {
			owns_state = 209
		}

		completion_reward = {
			add_state_core = 209
		}
	}

}
