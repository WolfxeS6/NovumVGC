add_namespace = nvv_estonia
add_namespace = estonia_news

# Noblesser bancrupt
country_event = {
	id = nvv_estonia.1
	title = nvv_estonia.1.t
	desc = nvv_estonia.1.d
	picture = GFX_report_event_estonia_navy_1
	
	fire_only_once = yes
	
	trigger = {
		original_tag = EST
		date > 2001.2.1
	}
	
	option = {
		name = nvv_estonia.1.a
        13 = {
            remove_building = {
                type = dockyard
                level = 1
            }
        }
		mio:EST_blrt_organization = {
			add_mio_funds = 250
		}
        custom_effect_tooltip = EST_noblessner_gone_tt
        set_country_flag = noblessner_gone_flg
	}
    option = {
		name = nvv_estonia.1.b
        add_political_power = -200
	}
}

# Estonia removed Bronze Soldier Memorial
country_event = {
	id = nvv_estonia.2
	title = nvv_estonia.2.t
	desc = nvv_estonia.2.d
	picture = GFX_report_event_bronze_soldier
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {
		name = nvv_estonia.2.a
		add_opinion_modifier = {
			target = EST
			modifier = est_dishonored_memorials
		}
	}
    option = {
		name = nvv_estonia.2.b
		ai_chance = {
			base = 10
		}
		add_opinion_modifier = {
			target = EST
			modifier = est_dishonored_memorials
		}
		add_political_power = -50
		custom_effect_tooltip = estonia_cyberattacks
		effect_tooltip = {
			EST = {
				add_ideas = EST_russian_shadow_embargo
				add_timed_idea = {
					idea = estonia_cyberattacks
					days = 30
				}
			}
		}
		EST = {
			country_event = { id = nvv_estonia.3 days = 3 }
		}
	}
}

# Estonia removed Bronze Soldier Memorial - Russia Reacts
country_event = {
	id = nvv_estonia.3
	title = nvv_estonia.3.t
	desc = nvv_estonia.3.d
	picture = GFX_report_event_bronze_soldier
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {
		name = nvv_estonia.3.a
		add_war_support = 0.05
		add_ideas = EST_russian_shadow_embargo
		add_timed_idea = {
			idea = estonia_cyberattacks
			days = 30
		}
	}
}

# New Party Founded
country_event = {
	id = nvv_estonia.4
	title = nvv_estonia.4.t
	desc = nvv_estonia.4.d
	picture = GFX_report_event_politics_estonia
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {
		name = nvv_estonia.4.a
	}
}

# King coronation
country_event = {
	id = nvv_estonia.5
	title = nvv_estonia.5.t
	desc = nvv_estonia.5.d
	picture = GFX_report_event_politics_seto
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {
		name = nvv_estonia.5.a	#TODO
	}
	option = {
		name = nvv_estonia.5.b	#TODO
	}
	option = {	# Queen Inara Luigas
		name = nvv_estonia.5.c
		add_country_leader_role = {
			character = EST_Inara_Luigas
			promote_leader = yes
			country_leader = {
				ideology = neo_paganism
				expire = "2077.1.1.1"
				traits = {  }
			}
		}
	}
}

# Narva Power Plant
country_event = {
	id = nvv_estonia.6
	title = nvv_estonia.6.t
	desc = nvv_estonia.6.d
	picture = GFX_report_event_Polish_generic_protest_event
	
	fire_only_once = yes
	
	trigger = {
		tag = EST
		date > 2000.6.1
		NOT = {	has_completed_focus = EST_modernize_narva_power_plant }
	}
	
	option = {	#Abandon
		name = nvv_estonia.6.a
		add_political_power = -50
		add_popularity = {
			ideology = conservative
			popularity = -0.02
		}
	}
	option = {	#Push Through
		name = nvv_estonia.6.b
		add_political_power = -150
		add_popularity = {
			ideology = conservative
			popularity = -0.05
		}
		complete_national_focus = EST_modernize_narva_power_plant
	}
}

# Estonia Railways Fiasko
country_event = {
	id = nvv_estonia.7
	title = nvv_estonia.7.t
	desc = nvv_estonia.7.d
	picture = GFX_report_event_estonia_railways
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {
		name = nvv_estonia.7.a
		add_political_power = -50
		add_popularity = {
			ideology = conservative
			popularity = -0.03
		}
	}
}

# Navy Reforms
country_event = {
	id = nvv_estonia.8
	title = nvv_estonia.8.t
	desc = nvv_estonia.8.d
	picture = GFX_report_event_estonia_navy_1
	
	fire_only_once = yes
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = { country_event = { id = nvv_estonia.9 days = 180 } }
	}
	
	option = {	#Frauenhof Class
		name = nvv_estonia.8.a
		remove_ideas = estonia_unfounded_navy
		destroy_ships = {
			type = destroyer
			count = 3
		}
		add_resource = {
			type = steel
			amount = 1
			state = 13
		}
		set_country_flag = EST_event_8_a
	}
	option = {	#Kondor I Class
		name = nvv_estonia.8.b
		remove_ideas = estonia_unfounded_navy
		destroy_ships = {
			type = light_cruiser
			count = 2
		}
		add_resource = {
			type = steel
			amount = 1
			state = 13
		}
		set_country_flag = EST_event_8_a
	}
	option = {	#reform through investment
		name = nvv_estonia.8.c
		add_manpower = -1000
		add_timed_idea = {
			idea = EST_navy_expansion_program
			days = 180
		}
		set_country_flag = EST_event_8_b
		custom_effect_tooltip = EST_event_8_idea_tt
	}
}

# Hidden event to remove modifier
country_event = {
	id = nvv_estonia.9
	
	fire_only_once = yes
	is_triggered_only = yes
	hidden = yes
	
	option = {	#Frauenhof Class
		if = {
			limit = { has_country_flag = EST_event_8_a }
			add_resource = {
				type = steel
				amount = -1
				state = 13
			}
		}
		if = {
			limit = { has_country_flag = EST_event_8_b }
			remove_ideas = estonia_unfounded_navy
		}
	}
}

# Purchase Aircraft
country_event = {
	id = nvv_estonia.10
	title = nvv_estonia.10.t
	desc = nvv_estonia.10.d
	picture = GFX_report_event_estonia_air_force
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {	#Sweden
		name = nvv_estonia.10.a
		SWE = { country_event = nvv_estonia.11 }
	}
	option = {	#Eurofighter
		name = nvv_estonia.10.b
		ENG = { country_event = nvv_estonia.11 }
	}
	option = {	#F16
		name = nvv_estonia.10.c
		USA = { country_event = nvv_estonia.11 }
	}
}

# Purchase Aircraft - Reaction
country_event = {
	id = nvv_estonia.11
	title = nvv_estonia.11.t
	desc = nvv_estonia.11.d
	picture = GFX_report_event_estonia_air_force
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {	#Yes
		name = nvv_estonia.11.a
		send_equipment = {
			equipment = small_plane_airframe
			amount = 50
			target = EST
		}
	}
	option = {	#No
		name = nvv_estonia.11.b
		ENG = { country_event = nvv_estonia.12 }
	}
}

# Purchase Aircraft - Result
country_event = {
	id = nvv_estonia.12
	title = nvv_estonia.12.t
	desc = nvv_estonia.12.d
	picture = GFX_report_event_estonia_air_force
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {
		name = nvv_estonia.12.a
	}
}

# Finland: Estonia proposes Defence Pact
country_event = {
	id = nvv_estonia.13
	title = nvv_estonia.13.t
	desc = nvv_estonia.13.d
	picture = GFX_report_event_politics_estonia
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {
		name = nvv_estonia.13.a
	}
	option = {
		name = nvv_estonia.13.b
	}
}

# National Defence Development Plan
country_event = {
	id = nvv_estonia.14
	title = nvv_estonia.14.t
	desc = nvv_estonia.14.d
	picture = GFX_report_event_estonian_army_soldiers_marching
	
	is_triggered_only = yes

	immediate = { 
		hidden_effect = {
			remove_ideas = {
				EST_rkak_1
				EST_rkak_2
				EST_rkak_3
			}
		}
	 }
	
	option = {
		name = nvv_estonia.14.a
		add_ideas = EST_rkak_1
		hidden_effect = {
			country_event = {
				id = nvv_estonia.14 days = 1460
			}
		}
	}
	option = {
		name = nvv_estonia.14.b
		add_ideas = EST_rkak_2
		hidden_effect = {
			country_event = {
				id = nvv_estonia.14 days = 1460
			}
		}
	}
	option = {
		name = nvv_estonia.14.c
		add_ideas = EST_rkak_3
		hidden_effect = {
			country_event = {
				id = nvv_estonia.14 days = 1460
			}
		}
	}
}

# Estonia Requests Military Assistance
country_event = {
	id = nvv_estonia.15
	title = nvv_estonia.15.t
	desc = nvv_estonia.15.d
	picture = GFX_report_event_estonian_army_soldiers_marching
	
	is_triggered_only = yes

	immediate = {
	 }
	
	option = {		#yes
		name = nvv_estonia.15.a
		army_experience = 10
		add_political_power = 25
		custom_effect_tooltip = FIN_estonia_military_assistance_tt
		effect_tooltip = {
			army_experience = 15
			add_tech_bonus = {
				name = EST_motorized_logistics
				bonus = 0.5
				uses = 1
				category = logistics_tech
			}
			add_tech_bonus = {
				name = EST_engineer_bonus
				bonus = 0.5
				uses = 1
				category = engineers_tech
			}
			add_tech_bonus = {
				name = EST_engineer_bonus
				bonus = 0.5
				uses = 1
				category = signal_company_tech
			}
			add_opinion_modifier = {
				target = FIN
				modifier = estonia_finish_military_assistance
			}
			add_timed_idea = {
				idea = estonia_finish_military_assistance_idea
				days = 365
			}
		}
		EST = { country_event = { id = nvv_estonia.16 days = 3 } }
	}
	option = {	#no
		name = nvv_estonia.15.b
		effect_tooltip = {
			EST = {
				add_opinion_modifier = {
					target = FIN
					modifier = estonia_declined_finish_military_assistance
				}
			}
		}
		EST = { country_event = { id = nvv_estonia.17 days = 3 } }
	}
}

# Finland Gives Military Assistance
country_event = {
	id = nvv_estonia.16
	title = nvv_estonia.16.t
	desc = nvv_estonia.16.d
	picture = GFX_report_event_estonian_army_soldiers_marching
	
	is_triggered_only = yes

	immediate = {
	}
	
	option = {
		name = nvv_estonia.16.a
		army_experience = 15
		add_tech_bonus = {
			name = EST_motorized_logistics
			bonus = 0.5
			uses = 1
			category = logistics_tech
		}
		add_tech_bonus = {
			name = EST_engineer_bonus
			bonus = 0.5
			uses = 1
			category = engineers_tech
		}
		add_tech_bonus = {
			name = EST_engineer_bonus
			bonus = 0.5
			uses = 1
			category = signal_company_tech
		}
		add_opinion_modifier = {
			target = FIN
			modifier = estonia_finish_military_assistance
		}
		add_timed_idea = {
			idea = estonia_finish_military_assistance_idea
			days = 365
		}
	}
}

# Finland Declines Military Assistance
country_event = {
	id = nvv_estonia.17
	title = nvv_estonia.17.t
	desc = nvv_estonia.17.d
	picture = GFX_report_event_estonian_army_soldiers_marching
	
	is_triggered_only = yes

	immediate = {
	}
	
	option = {
		name = nvv_estonia.17.a
		add_opinion_modifier = {
			target = FIN
			modifier = estonia_declined_finish_military_assistance
		}
	}
}


# Estonian Nordic Ambitions
country_event = {
	id = estonia_news.1
	title = estonia_news.1.t
	desc = estonia_news.1.d
	picture = GFX_report_event_politics_estonia
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {
		name = estonia_news.1.a
		add_opinion_modifier = {
			target = FIN
			modifier = estonia_declined_finish_military_assistance
		}
	}
}